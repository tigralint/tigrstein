<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GEO-TACTICAL GRID</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        body { overflow: hidden; }
        
        /* Контейнер карты */
        .map-container {
            position: relative;
            width: 100%;
            height: 60vh;
            background: #050505 url('https://upload.wikimedia.org/wikipedia/commons/e/ec/World_map_blank_without_borders.svg') no-repeat center center;
            background-size: contain;
            border: 1px solid #333;
            box-shadow: inset 0 0 50px #000;
            filter: invert(1) hue-rotate(180deg) contrast(1.5); /* Делаем карту "хакерской" */
        }

        /* Точки агентов */
        .dot {
            position: absolute; width: 10px; height: 10px;
            background: var(--alert-red); border-radius: 50%;
            cursor: pointer; box-shadow: 0 0 10px var(--alert-red);
            animation: pulse 1.5s infinite;
        }
        .dot:hover { transform: scale(1.5); background: #fff; }
        
        /* Подписи к точкам */
        .dot::after {
            content: attr(data-info);
            position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%);
            background: #000; color: var(--term-green); padding: 5px;
            font-size: 10px; white-space: nowrap; border: 1px solid var(--term-green);
            display: none; z-index: 10;
        }
        .dot:hover::after { display: block; }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 51, 51, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 51, 51, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 51, 51, 0); }
        }

        /* Панель управления */
        .control-panel {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 20px;
        }
        
        .action-btn {
            background: #111; border: 1px solid #333; color: #888; padding: 15px;
            cursor: pointer; text-transform: uppercase; font-family: inherit; transition: 0.3s;
        }
        .action-btn:hover { border-color: var(--alert-red); color: var(--alert-red); }
        .action-btn.active { background: var(--alert-red); color: #000; font-weight: bold; }

    </style>
</head>
<body>
    <h2 style="color: var(--alert-red)">GLOBAL CONFLICT MONITOR</h2>
    
    <div class="map-container" id="map">
        <div class="dot" style="top: 35%; left: 22%;" data-info="AGENT ORANGE (USA)"></div>
        <div class="dot" style="top: 25%; left: 55%;" data-info="AGENT VODKA (RUSSIA)"></div>
        <div class="dot" style="top: 85%; left: 50%;" data-info="BASE 7 (ANTARCTICA)"></div>
        <div class="dot" style="top: 40%; left: 75%;" data-info="ASSET: WINNIE (CHINA)"></div>
        <div class="dot" style="top: 60%; left: 30%;" data-info="TEST SITE (BRAZIL)"></div>
    </div>

    <div class="control-panel">
        <button class="action-btn" onclick="triggerEvent(this, 'CHEMTRAILS')">DEPLOY CHEMTRAILS</button>
        <button class="action-btn" onclick="triggerEvent(this, 'WEATHER')">RESET WEATHER</button>
        <button class="action-btn" onclick="triggerEvent(this, 'INTERNET')">KILL INTERNET</button>
        <button class="action-btn" onclick="triggerEvent(this, 'PANDEMIC')" style="border-color: var(--alert-red); color: var(--alert-red)">!!! PANDEMIC 2.0 !!!</button>
    </div>

    <div id="log-display" style="margin-top: 10px; color: var(--term-green); font-size: 12px;">AWAITING COMMAND...</div>

    <script src="../assets/js/main.js"></script>
    <script>
        function triggerEvent(btn, type) {
            const log = document.getElementById('log-display');
            
            // Анимация кнопки
            btn.classList.add('active');
            setTimeout(() => btn.classList.remove('active'), 500);

            // Звук
            soundClick();

            // Логика событий
            if(type === 'PANDEMIC') {
                document.body.style.animation = "shake 0.5s infinite"; // Тряска экрана
                log.innerHTML = "<span class='text-alert'>CRITICAL ALERT: RELEASING PATHOGEN... 10%... 50%...</span>";
                setTimeout(() => {
                    document.body.style.animation = "none";
                    log.innerHTML = "ERROR: SUBJECTS REFUSE TO WEAR MASKS. ABORTING.";
                    soundDeny();
                }, 3000);
            } else if (type === 'INTERNET') {
                document.getElementById('map').style.filter = "grayscale(100%) brightness(0.2)";
                log.innerHTML = "SHUTTING DOWN WORLD WIDE WEB... [DONE]";
            } else {
                log.innerHTML = `EXECUTING PROTOCOL: ${type}... SUCCESS.`;
            }
        }
    </script>
</body>
</html>