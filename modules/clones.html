<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CLONE MANAGEMENT</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        .clone-vat {
            border: 1px solid #333; background: rgba(0, 20, 20, 0.3); padding: 20px;
            display: flex; gap: 20px; align-items: center; margin-bottom: 20px;
            transition: 0.3s;
        }
        .clone-vat.critical { border-color: red; box-shadow: 0 0 20px rgba(255,0,0,0.2); }

        .vat-window {
            width: 120px; height: 150px; border: 2px solid #00ffff;
            position: relative; overflow: hidden; background: #001111;
        }
        .vat-window img {
            width: 100%; height: 100%; object-fit: cover; opacity: 0.7;
            transition: 0.5s;
        }
        .bubbles {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 100%;
            background: url('https://www.transparenttextures.com/patterns/bubbles.png');
            animation: rise 5s infinite linear; opacity: 0.5; pointer-events: none;
        }
        @keyframes rise { from { background-position: 0 0; } to { background-position: 0 -100px; } }

        .controls { flex-grow: 1; }
        
        /* Прогресс-бары */
        .stat-row { margin-bottom: 10px; font-size: 11px; }
        .progress-bg { width: 100%; background: #111; height: 8px; border: 1px solid #333; margin-top: 2px; }
        .progress-fill { height: 100%; background: var(--term-green); width: 50%; transition: width 0.5s; }
        .progress-fill.low { background: red; }

        .status-led {
            display: inline-block; width: 8px; height: 8px; background: #00ff41;
            border-radius: 50%; box-shadow: 0 0 5px #00ff41; margin-right: 5px;
        }
        .status-led.blink { animation: blink 0.5s infinite; background: red; box-shadow: 0 0 5px red; }
    </style>
</head>
<body>
    <h2>BIOLOGICAL ASSET MANAGER (CLONES)</h2>
    <p style="color: #666; font-size: 12px; margin-bottom: 20px;">MAINTENANCE REQUIRED. DO NOT LET BATTERY REACH 0%.</p>
    
    <div class="clone-vat" id="vat-zuck">
        <div class="vat-window">
            <div class="bubbles"></div>
            <img src="../assets/img/zuck_robot.jpg" id="img-zuck" alt="Zuck">
        </div>
        <div class="controls">
            <h3>MARK ZUCKERBERG (v.4.2)</h3>
            
            <div class="stat-row">
                <span>HUMANITY EMULATION</span>
                <div class="progress-bg"><div class="progress-fill" id="bar-zuck-hum" style="width: 80%;"></div></div>
            </div>
            <div class="stat-row">
                <span>COOLANT LEVEL (BBQ SAUCE)</span>
                <div class="progress-bg"><div class="progress-fill" id="bar-zuck-cool" style="width: 60%;"></div></div>
            </div>
            
            <div style="margin-top: 15px; display: flex; gap: 10px;">
                <button class="btn" style="padding: 5px 10px; font-size: 10px;" onclick="feedZuck()">APPLY SWEET BABY RAYS</button>
                <button class="btn" style="padding: 5px 10px; font-size: 10px; border-color: red; color: red;" onclick="rebootZuck()">FORCE REBOOT</button>
            </div>
            <p id="log-zuck" style="font-size: 10px; color: cyan; margin-top: 5px;">> STATUS: NORMAL</p>
        </div>
    </div>

    <div class="clone-vat" id="vat-biden">
        <div class="vat-window">
            <div class="bubbles"></div>
            <img src="../assets/img/epstein_mugshot.jpg" id="img-biden" alt="Biden" style="filter: grayscale(100%) blur(2px);"> 
        </div>
        <div class="controls">
            <h3>JOE BIDEN (v.1.0)</h3>
            
            <div class="stat-row">
                <span>GPS CALIBRATION</span>
                <div class="progress-bg"><div class="progress-fill" id="bar-biden-gps" style="width: 40%;"></div></div>
            </div>
            <div class="stat-row">
                <span>ICE CREAM RESERVES</span>
                <div class="progress-bg"><div class="progress-fill" id="bar-biden-ice" style="width: 20%;"></div></div>
            </div>
            
            <div style="margin-top: 15px;">
                <button class="btn" style="padding: 5px 10px; font-size: 10px;" onclick="feedBiden()">DISPENSE CHOCOLATE CHIP</button>
                <button class="btn" style="padding: 5px 10px; font-size: 10px;" onclick="resetGPS()">RESET WAYPOINT (STAGE)</button>
            </div>
            <p id="log-biden" style="font-size: 10px; color: orange; margin-top: 5px;">> STATUS: WANDERING...</p>
        </div>
    </div>

    <script src="../assets/js/main.js"></script>
    <script>
        // Данные клонов
        const clones = {
            zuck: { hum: 80, cool: 60, interval: null },
            biden: { gps: 40, ice: 20, interval: null }
        };

        // ЗАПУСК ЦИКЛА
        setInterval(() => {
            decay('zuck', 'hum', 2);
            decay('zuck', 'cool', 1);
            decay('biden', 'gps', 3);
            decay('biden', 'ice', 1);
            updateUI();
        }, 1000);

        function decay(name, stat, amount) {
            clones[name][stat] -= amount;
            if (clones[name][stat] < 0) clones[name][stat] = 0;
        }

        function updateUI() {
            // Zuck Logic
            setBar('bar-zuck-hum', clones.zuck.hum);
            setBar('bar-zuck-cool', clones.zuck.cool);
            
            const zuckLog = document.getElementById('log-zuck');
            const zuckImg = document.getElementById('img-zuck');
            const zuckVat = document.getElementById('vat-zuck');

            if(clones.zuck.hum < 20 || clones.zuck.cool < 10) {
                zuckLog.innerText = "> WARNING: REPTILIAN FORM EXPOSED";
                zuckLog.style.color = "red";
                zuckImg.style.filter = "invert(1) hue-rotate(90deg)"; // Страшный вид
                zuckVat.classList.add('critical');
            } else {
                zuckLog.innerText = "> STATUS: BLENDING IN WITH HUMANS...";
                zuckLog.style.color = "cyan";
                zuckImg.style.filter = "none";
                zuckVat.classList.remove('critical');
            }

            // Biden Logic
            setBar('bar-biden-gps', clones.biden.gps);
            setBar('bar-biden-ice', clones.biden.ice);

            const bidenLog = document.getElementById('log-biden');
            if(clones.biden.gps < 10) {
                bidenLog.innerText = "> ALERT: SUBJECT LOST IN PARKING LOT";
                bidenLog.style.color = "red";
            } else {
                bidenLog.innerText = "> STATUS: WAVING AT INVISIBLE PEOPLE";
                bidenLog.style.color = "orange";
            }
        }

        function setBar(id, val) {
            const el = document.getElementById(id);
            el.style.width = val + "%";
            if(val < 30) el.classList.add('low');
            else el.classList.remove('low');
        }

        // --- ДЕЙСТВИЯ ---
        function feedZuck() {
            clones.zuck.cool = 100;
            clones.zuck.hum += 10;
            soundClick();
            document.getElementById('log-zuck').innerText = "> LUBRICATION APPLIED.";
        }
        function rebootZuck() {
            clones.zuck.hum = 100;
            soundDeny(); // Звук перезагрузки
        }

        function feedBiden() {
            clones.biden.ice = 100;
            soundClick();
        }
        function resetGPS() {
            clones.biden.gps = 100;
            soundClick();
        }

        updateUI(); // Первый рендер
    </script>
</body>
</html>